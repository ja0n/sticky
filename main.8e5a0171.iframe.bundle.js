(self.webpackChunksticky=self.webpackChunksticky||[]).push([[179],{38011:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__(3012).configure)([__webpack_require__(98410),__webpack_require__(20066)],module,!1)},86261:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__(3012)},75497:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{function DumbBox(id,obj){var _this=this,el=document.getElementById(id);this.ctx=el.getContext("2d"),obj.controls&&window.addEventListener("keyup",(function(e){var move={37:"left",38:"up",39:"right",40:"down"}[e.keyCode];move&&_this.player.pushMove(move)}))}__webpack_require__(21249),__webpack_require__(43290),__webpack_require__(91038),__webpack_require__(78783),__webpack_require__(24812),__webpack_require__(26699),__webpack_require__(40561),window.DumbBox=DumbBox,DumbBox.prototype={drawHLine:function drawHLine(y,w,c){var ctx=this.ctx;ctx.save(),ctx.lineWidth=w||1,ctx.beginPath(),ctx.moveTo(0,y),ctx.lineTo(ctx.canvas.width,y),ctx.stroke(),ctx.restore()},drawVLine:function drawVLine(x,w){var ctx=this.ctx;ctx.save(),ctx.lineWidth=w||1,ctx.beginPath(),ctx.moveTo(x,0),ctx.lineTo(x,ctx.canvas.height),ctx.stroke(),ctx.restore()},drawPlayer:function drawPlayer(x,y){var ctx=this.ctx,size=this.map.size;ctx.beginPath(),ctx.rect(this.player.x*size,this.player.y*size,size,size),ctx.fillStyle="black",ctx.fill()},loadMap:function loadMap(size,map,colors){var _this2=this,initialPos=map.initialPos;this.map={initialPos,size,data:map,colors,coord:function coord(x,y){return _this2.map.data[y][x]}},this.map.data=map.tiled.map((function(line){return Array.from(line)})),this.player=new Player(initialPos[0],initialPos[1],this.map)},drawMap:function drawMap(){for(var map=this.map.data,i=0;i<map.length;i++)for(var row=map[i],j=0;j<row.length;j++)this.drawTile(j,i,row[j])},drawTile:function drawTile(x,y,type){var ctx=this.ctx,size=this.map.size,colors=this.map.colors;ctx.beginPath(),ctx.rect(x*size,y*size,size,size),ctx.fillStyle=colors[type],ctx.fill()},runCycle:function runCycle(dt){if(this.paused)return null;this.player.update(dt),this.clearCanvas(),this.drawMap(),this.drawPlayer()},clearCanvas:function clearCanvas(){this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)},reset:function reset(){this.player.x=this.map.initialPos[0],this.player.y=this.map.initialPos[1],this.player.clearMoves()},start:function start(){var lastTime=null,_anim=function anim(timestamp){lastTime||(lastTime=timestamp);var dt=timestamp-lastTime;lastTime=timestamp,this.runCycle(dt),window.requestAnimationFrame(_anim)};_anim=_anim.bind(this),window.requestAnimationFrame(_anim)}};var Player=function Player(x,y,map){this.x=x||0,this.y=y||0,this.map=map,this.moves=[],this.actions=[]};Player.prototype={pushMove:function pushMove(move){if(!["left","right","up","down"].includes(move))return null;this.moves.push(move)},clearMoves:function clearMoves(){this.moves=[],this.actions=[]},pushNextAction:function pushNextAction(){switch(this.moves.splice(0,1)[0]){case"left":this.actions.push(this.makeMove(this.x-1,this.y));break;case"right":this.actions.push(this.makeMove(this.x+1,this.y));break;case"up":this.actions.push(this.makeMove(this.x,this.y-1));break;case"down":this.actions.push(this.makeMove(this.x,this.y+1))}},update:function update(dt){!this.actions[0]&&this.moves[0]&&this.pushNextAction(),this.actions[0]&&this.actions[0].call(this,dt)&&this.actions.shift()},makeMove:function makeMove(x,y){return function(dt){var map=this.map,vel=.0025,invalid=x<0||x>=map.data[0].length||y<0||y>=map.data.length||"0"!=map.coord(x,y);if(this.x==x&&this.y==y||invalid)return!0;x<this.x?this.x=this.x-dt*vel<=x?x:this.x-dt*vel:this.x=this.x+dt*vel>=x?x:this.x+dt*vel,y<this.y?this.y=this.y-dt*vel<=y?y:this.y-dt*vel:this.y=this.y+dt*vel>=y?y:this.y+dt*vel}}}},50919:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_ja0n_Projects_sticky_node_modules_core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(88674),_home_ja0n_Projects_sticky_node_modules_core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_home_ja0n_Projects_sticky_node_modules_core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_0__),_home_ja0n_Projects_sticky_node_modules_core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(41539),_home_ja0n_Projects_sticky_node_modules_core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_home_ja0n_Projects_sticky_node_modules_core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__),_home_ja0n_Projects_sticky_node_modules_core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(32564),_home_ja0n_Projects_sticky_node_modules_core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_home_ja0n_Projects_sticky_node_modules_core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_2__),_home_ja0n_Projects_sticky_node_modules_core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(92222),_home_ja0n_Projects_sticky_node_modules_core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_home_ja0n_Projects_sticky_node_modules_core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_3__);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var nodes={start:{id:"start",width:35,height:60,rx:10,ry:10,fill:"#AF2B37",ports:{data_in:0,data_out:0,flow_in:1,flow_out:1},title:"Start",icon:"img/icon.png",behavior:function behavior(){return 0}},delay:{id:"delay",fill:"#FF8D4F",title:"delay",ports:{data_in:0,data_out:0,flow_in:1,flow_out:1},gui:{value:{label:"value (ms)",type:"number"}},behavior:(_behavior=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _this=this;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",new Promise((function(resolve){return setTimeout((function(){return resolve(0)}),_this.inputs.value)})));case 1:case"end":return _context.stop()}}),_callee)}))),function behavior(){return _behavior.apply(this,arguments)})},SourceNumber:{id:"SourceNumber",fill:"#cfec2f",ports:{data_in:0,data_out:1,flow_in:0,flow_out:0},title:"Number",gui:{number:{label:"Number",type:"number"}},behavior:function behavior(){return[this.inputs.number]}},SourceString:{id:"SourceString",fill:"#cfec2f",ports:{data_in:0,data_out:1,flow_in:0,flow_out:0},title:"String",gui:{text:{label:"Text",type:"text"}},behavior:function behavior(){return[this.inputs.text]}},Operation:{id:"Operation",fill:"#cfec2f",ports:{data_in:2,data_out:1,flow_in:0,flow_out:0},title:"Operation",gui:{op:{label:"Operation",type:"select",options:["==","!=","===","!==",">",">=","<","<=","+","-","*","/"]}},behavior:function(){var _behavior2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(findById,context){var conn1,conn2,node1,node2,val1,val2;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return conn1=this._ports.in[0].connections[0],conn2=this._ports.in[1].connections[0],node1=findById(conn1.nodeId),node2=findById(conn2.nodeId),_context2.next=6,node1.getValue(findById,context,conn1.id);case 6:return val1=_context2.sent,_context2.next=9,node2.getValue(findById,context,conn2.id);case 9:return val2=_context2.sent,_context2.abrupt("return",[eval("".concat(JSON.stringify(val1)," ").concat(this.inputs.op," ").concat(JSON.stringify(val2)))]);case 11:case"end":return _context2.stop()}}),_callee2,this)})));function behavior(_x,_x2){return _behavior2.apply(this,arguments)}return behavior}()},Alert:{id:"Alert",fill:"#EC962F",ports:{data_in:1,data_out:0,flow_in:1,flow_out:1},title:"Alert",behavior:(_behavior3=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(findById,context){var conn,node,value;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return conn=this._ports.in[0].connections[0],node=findById(conn.nodeId),_context3.next=4,node.getValue(findById,context,conn.id);case 4:return value=_context3.sent,alert(value),_context3.abrupt("return",0);case 7:case"end":return _context3.stop()}}),_callee3,this)}))),function behavior(_x3,_x4){return _behavior3.apply(this,arguments)})},If:{id:"If",fill:"#EC962F",ports:{data_in:1,data_out:0,flow_in:1,flow_out:2},title:"If",behavior:(_behavior4=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(findById,context){var conn,node,value;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return conn=this._ports.in[0].connections[0],node=findById(conn.nodeId),_context4.next=4,node.getValue(findById,context,conn.id);case 4:return value=_context4.sent,_context4.abrupt("return",value?0:1);case 6:case"end":return _context4.stop()}}),_callee4,this)}))),function behavior(_x5,_x6){return _behavior4.apply(this,arguments)})}},_behavior4,_behavior3,_behavior;const __WEBPACK_DEFAULT_EXPORT__=nodes},62101:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{T4:()=>components_Connections,W2:()=>Container,VJ:()=>components_NodeList,I7:()=>components_SplitSection});__webpack_require__(92222),__webpack_require__(68304),__webpack_require__(30489),__webpack_require__(12419),__webpack_require__(41539),__webpack_require__(83710),__webpack_require__(78011),__webpack_require__(69070),__webpack_require__(82526),__webpack_require__(41817),__webpack_require__(32165),__webpack_require__(78783),__webpack_require__(66992),__webpack_require__(33948);var react=__webpack_require__(67294),react_default=__webpack_require__.n(react),get=(__webpack_require__(82772),__webpack_require__(40561),__webpack_require__(89554),__webpack_require__(54747),__webpack_require__(19601),__webpack_require__(5735),__webpack_require__(83753),__webpack_require__(88674),__webpack_require__(47042),__webpack_require__(68309),__webpack_require__(91038),__webpack_require__(79753),__webpack_require__(27361)),get_default=__webpack_require__.n(get),isNil=__webpack_require__(14293),isNil_default=__webpack_require__.n(isNil),find=__webpack_require__(13311),find_default=__webpack_require__.n(find),set=__webpack_require__(36968),set_default=__webpack_require__.n(set),forEach=__webpack_require__(84486),forEach_default=__webpack_require__.n(forEach),findIndex=__webpack_require__(30998),findIndex_default=__webpack_require__.n(findIndex),times=__webpack_require__(98913),times_default=__webpack_require__.n(times);__webpack_require__(26699),__webpack_require__(69826),__webpack_require__(34553);function getParentSvg(el){return el.parentNode?"svg"===el.parentNode.nodeName?el.parentNode:getParentSvg(el.parentNode):null}function spliceByIndex(arr,obj){var index=arr.indexOf(obj);return safeSplice(arr,index)}function safeSplice(arr,index){return-1!=index&&(arr.splice(index,1),!0)}__webpack_require__(85827);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var castPoint=function castPoint(value){if(Array.isArray(value)){var _value=_slicedToArray(value,2);return{x:_value[0],y:_value[1]}}return"object"==_typeof(value)?{x:value.x,y:value.y}:{x:value,y:value}},multiplyPoints=function multiplyPoints(){for(var _len3=arguments.length,points=new Array(_len3),_key3=0;_key3<_len3;_key3++)points[_key3]=arguments[_key3];return points.reduce((function(result,value){var point=castPoint(value);return result?(result.x*=point.x,result.y*=point.y,result):Object.assign({},point)}),null)},_p_clamp=function clamp(min,num,max){return Math.min(Math.max(min,num),max)},_p_add=function sumPoints(){for(var _len=arguments.length,points=new Array(_len),_key=0;_key<_len;_key++)points[_key]=arguments[_key];return points.reduce((function(result,value){var point=castPoint(value);return result?(result.x+=point.x,result.y+=point.y,result):Object.assign({},point)}),null)},_p_subtract=function minusPoints(){for(var _len2=arguments.length,points=new Array(_len2),_key2=0;_key2<_len2;_key2++)points[_key2]=arguments[_key2];return points.reduce((function(result,value){var point=castPoint(value);return result?(result.x-=point.x,result.y-=point.y,result):Object.assign({},point)}),null)},_p_multiply=multiplyPoints,_p_divide=function dividePoints(){for(var _len4=arguments.length,points=new Array(_len4),_key4=0;_key4<_len4;_key4++)points[_key4]=arguments[_key4];return points.reduce((function(result,value){var point=castPoint(value);return result?(result.x/=point.x,result.y/=point.y,result):Object.assign({},point)}),null)};function Port_slicedToArray(arr,i){return function Port_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Port_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Port_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Port_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Port_arrayLikeToArray(o,minLen)}(arr,i)||function Port_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Port_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var directionTypes=["in","out"],portTypes=["data","flow"],makeFinder=function makeFinder(node,port){return function(_ref){var nodeId=_ref.nodeId,id=_ref.id;return nodeId===node&&id===port}},Port=function(){function Port(_ref2){var id=_ref2.id,type=_ref2.type,direction=_ref2.direction,node=_ref2.node,ref=_ref2.ref;if(function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Port),this.id=void 0,this._el=void 0,this.direction=void 0,this.type=void 0,this.connections=void 0,this.maxConnections=void 0,this.node=void 0,this.color=void 0,!directionTypes.includes(direction))throw"port direction must be 'in' or 'out'";if(!portTypes.includes(type))throw"type must be 'data' or 'flow'";Object.assign(this,{id,type,direction,node}),Object.assign(this,{connections:[],maxConnections:2}),ref&&this.setupInstance(ref)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Port,[{key:"setupInstance",value:function setupInstance(ref){this._el=ref,ref&&Object.assign(this._el,{wrapper:this,type:"port",direction:this.direction})}},{key:"getBBoxes",value:function getBBoxes(){var portSVG=getParentSvg(this._el),nodeSVG=this.node._el;return[portSVG.getBoundingClientRect(),nodeSVG.getBoundingClientRect()]}},{key:"attr",value:function attr(key,value){return value?this._el.setAttribute(key,value):this._el.getAttribute(key)}},{key:"getPoint",value:function getPoint(){var offset=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},zoom=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return _p_add(_p_multiply(this.node,zoom),_p_multiply(offset,zoom),this)}},{key:"isCompatible",value:function isCompatible(to){return this.type===to.type&&this.direction!==to.direction}},{key:"canAttach",value:function canAttach(to){return this.isCompatible(to)&&this.available&&to.available}},{key:"hasConnection",value:function hasConnection(to){return this.connections.find(makeFinder(to.node._id,to.id))}},{key:"attach",value:function attach(to){return!this.hasConnection(to)&&(!!this.canAttach(to)&&(this.connections.push({nodeId:to.node._id,id:to.id}),to.connections.push({nodeId:this.node._id,id:this.id}),!0))}},{key:"dettach",value:function dettach(from){if(!this.isCompatible(from))return!1;var index=this.connections.findIndex(makeFinder(from.node._id,from.id)),fromIndex=from.connections.findIndex(makeFinder(this.node._id,this.id));return safeSplice(this.connections,index),safeSplice(from.connections,fromIndex),-1!==index||-1!==fromIndex}},{key:"position",get:function get(){var _this$getBBoxes2=Port_slicedToArray(this.getBBoxes(),2),portBBox=_this$getBBoxes2[0],nodeBBox=_this$getBBoxes2[1];return[portBBox.x-nodeBBox.x+portBBox.width/2,portBBox.y-nodeBBox.y+portBBox.height/2]}},{key:"x",get:function get(){return this.position[0]}},{key:"y",get:function get(){return this.position[1]}},{key:"available",get:function get(){return this.connections.length<this.maxConnections}}]),Port}();function ports_typeof(obj){return(ports_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function ports_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==ports_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var DataPort=function(_Port){_inherits(DataPort,_Port);var _super=_createSuper(DataPort);function DataPort(_ref){var _this,args=_extends({},_ref);ports_classCallCheck(this,DataPort),(_this=_super.call(this,Object.assign({},args,{type:"data"}))).color="#B8D430";return _this}return DataPort}(Port),FlowPort=function(_Port2){_inherits(FlowPort,_Port2);var _super2=_createSuper(FlowPort);function FlowPort(_ref2){var _this2,args=_extends({},_ref2);ports_classCallCheck(this,FlowPort),(_this2=_super2.call(this,Object.assign({},args,{type:"flow"}))).color="#2549e4",_this2.maxConnections=1;return _this2}return FlowPort}(Port);__webpack_require__(43290),__webpack_require__(47941),__webpack_require__(69720),__webpack_require__(9653);var SVGContainer=function SVGContainer(wrapper){var svg=function dom_createElement(name,attrs){var el=document.createElementNS("http://www.w3.org/2000/svg",name);for(var key in attrs)el.setAttribute(key,attrs[key]);return el}("svg");return svg.wrapper=wrapper,svg.type="node",svg.style.overflow="visible",svg};function Node_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Node_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var defaultConfig={x:0,y:0,strokeWidth:3,marginLeft:0,width:90,opacity:1,height:50,rx:20,ry:20,fill:"#1F8244",stroke:"#000000",gui:{}},Node=function(){function Node(){var _this=this,custom=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Node_classCallCheck(this,Node),this._id=void 0,this._ports=void 0,this._refNode=void 0,this._el=void 0,this._states=void 0,this.x=void 0,this.y=void 0,this.wires=void 0,this.behavior=void 0,this.cfg=void 0,this.gui=void 0,this.inputs=void 0;var cfg=Object.assign({},defaultConfig,custom),behavior=cfg.behavior,ports=cfg.ports,gui=cfg.gui,id=cfg.id,x=cfg.x,y=cfg.y,inputs=cfg.inputs;return this._refNode=id,this.behavior=behavior,this.cfg=cfg,this.gui=Object.assign({},gui),this.inputs=inputs||{},this.x=x||0,this.y=y||0,this._ports={in:[],out:[],flow_in:[],flow_out:[]},this.wires=[],this._states={dragging:!1},setupPorts({node:this,type:"data",direction:"in",length:ports.data_in}),setupPorts({node:this,type:"data",direction:"out",length:ports.data_out}),setupPorts({node:this,type:"flow",direction:"in",length:ports.flow_in}),setupPorts({node:this,type:"flow",direction:"out",length:ports.flow_out}),forEach_default()(inputs,(function(value,id){set_default()(_this.gui,[id,"initialValue"],value),set_default()(_this.gui,[id,"value"],value)})),this}return function Node_createClass(Constructor,protoProps,staticProps){return protoProps&&Node_defineProperties(Constructor.prototype,protoProps),staticProps&&Node_defineProperties(Constructor,staticProps),Constructor}(Node,[{key:"setupElement",value:function setupElement(){this._el=SVGContainer(this)}},{key:"onChange",value:function onChange(_ref){var id=_ref.id,value=_ref.value;set_default()(this.inputs,[id],value),this.inputs=Object.assign({},this.inputs,function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},id,value))}},{key:"delete",value:function _delete(){}},{key:"getPort",value:function getPort(type,id){return this.getPorts(type)[id]}},{key:"getPorts",value:function getPorts(type){return this._ports[type]}},{key:"getValue",value:function getValue(getNode,context,id){var promise=Promise.resolve(this.behavior(getNode,context));return isNil_default()(id)?promise:promise.then((function(value){return value[id]}))}},{key:"data",get:function get(){return this.behavior()}},{key:"main",get:function get(){return this._el.querySelector("#main")}},{key:"_svg",get:function get(){return getParentSvg(this._el)}}]),Node}();function setupPorts(_ref3){var node=_ref3.node,type=_ref3.type,direction=_ref3.direction,length=_ref3.length;return times_default()(length,(function(index){return function setupPort(_ref2){var node=_ref2.node,id=_ref2.id,type=_ref2.type,direction=_ref2.direction,types={data:{constructor:DataPort,key:"".concat(direction)},flow:{constructor:FlowPort,key:"flow_".concat(direction)}};if(!types[type])throw'Port of type "'.concat(type,'" not found');var _types$type=types[type],constructor=_types$type.constructor,key=_types$type.key,port=new constructor({id,node,direction}),currentIndex=findIndex_default()(node._ports[key],{id});-1!=currentIndex?node._ports[key][currentIndex]=port:node._ports[key].push(port)}({node,type,direction,id:index})}))}__webpack_require__(91058),__webpack_require__(39714);var throttle=__webpack_require__(23493),throttle_default=__webpack_require__.n(throttle);__webpack_require__(57327);function BaseWire_slicedToArray(arr,i){return BaseWire_arrayWithHoles(arr)||function BaseWire_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||BaseWire_unsupportedIterableToArray(arr,i)||BaseWire_nonIterableRest()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return BaseWire_arrayLikeToArray(arr)}(arr)||_iterableToArray(arr)||BaseWire_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toArray(arr){return BaseWire_arrayWithHoles(arr)||_iterableToArray(arr)||BaseWire_unsupportedIterableToArray(arr)||BaseWire_nonIterableRest()}function BaseWire_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function BaseWire_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return BaseWire_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?BaseWire_arrayLikeToArray(o,minLen):void 0}}function BaseWire_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}function BaseWire_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function BaseWire_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var BaseWire=function(){function BaseWire(config){!function BaseWire_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BaseWire),this.controlPoints=void 0,this._inverted=!1,this.custom=!1,this._el=void 0;var controlPoints=config.controlPoints;config.render;return this.controlPoints=controlPoints||[],this._inverted=!1,this.custom=!1,this}return function BaseWire_createClass(Constructor,protoProps,staticProps){return protoProps&&BaseWire_defineProperties(Constructor.prototype,protoProps),staticProps&&BaseWire_defineProperties(Constructor,staticProps),Constructor}(BaseWire,[{key:"getControlPoints",value:function getControlPoints(){var _this$controlPoints=_toArray(this.controlPoints);return[_this$controlPoints[0],_this$controlPoints.slice(1).pop()]}},{key:"getPorts",value:function getPorts(){return this.getControlPoints().filter((function(v){return v instanceof Port}))}},{key:"addControlPoints",value:function addControlPoints(){for(var _len=arguments.length,controlPoints=new Array(_len),_key=0;_key<_len;_key++)controlPoints[_key]=arguments[_key];this.controlPoints=[].concat(_toConsumableArray(this.controlPoints),controlPoints)}},{key:"setTarget",value:function setTarget(value){var _this$controlPoints2=_toArray(this.controlPoints),head=_this$controlPoints2[0];_this$controlPoints2.slice(1);this.controlPoints=[head,value]}},{key:"setupInstance",value:function setupInstance(ref){this._el=ref,this._el.type="wire",this._el.wrapper=this}},{key:"getNodes",value:function getNodes(){var _ref2=BaseWire_slicedToArray(this.getPorts(),2),sourcePort=_ref2[0],targetPort=_ref2[1];return[null==sourcePort?void 0:sourcePort.node,null==targetPort?void 0:targetPort.node]}},{key:"seal",value:function seal(){var _this$getPorts2=BaseWire_slicedToArray(this.getPorts(),2),sourcePort=_this$getPorts2[0],targetPort=_this$getPorts2[1];if((null==sourcePort?void 0:sourcePort.direction)==(null==targetPort?void 0:targetPort.direction))return!1;var canAttach=sourcePort.attach(targetPort);return canAttach&&(sourcePort.node.wires.push(this),targetPort.node.wires.push(this)),canAttach}},{key:"delete",value:function _delete(){var _this$getPorts4=BaseWire_slicedToArray(this.getPorts(),2),sourcePort=_this$getPorts4[0],targetPort=_this$getPorts4[1];spliceByIndex(sourcePort.node.wires,this),spliceByIndex(targetPort.node.wires,this),sourcePort.dettach(targetPort)}},{key:"getPointTranslated",value:function getPointTranslated(point){var offset=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},zoom=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,vOffset=_p_multiply(offset,zoom);return _p_add(point,vOffset)}},{key:"render",value:function render(offset,zoom){return null}}]),BaseWire}();function Wire_typeof(obj){return(Wire_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Wire_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Wire_setPrototypeOf(o,p){return(Wire_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Wire_createSuper(Derived){var hasNativeReflectConstruct=function Wire_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Wire_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Wire_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Wire_possibleConstructorReturn(this,result)}}function Wire_possibleConstructorReturn(self,call){return!call||"object"!==Wire_typeof(call)&&"function"!=typeof call?Wire_assertThisInitialized(self):call}function Wire_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function Wire_getPrototypeOf(o){return(Wire_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Wire=function(_BaseWire){!function Wire_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Wire_setPrototypeOf(subClass,superClass)}(Wire,_BaseWire);var _super=Wire_createSuper(Wire);function Wire(config){var _this;Wire_classCallCheck(this,Wire);for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return Wire_possibleConstructorReturn(_this=_super.call.apply(_super,[this,config].concat(args)),Wire_assertThisInitialized(_this))}return Wire}(BaseWire),normalizeEvent=(__webpack_require__(24812),__webpack_require__(32023),__webpack_require__(3843),__webpack_require__(52420),function normalizeEvent(event){null==event.x&&(event.x=event.clientX),null==event.y&&(event.y=event.clientY)});function eventHandlers_registerEvents(){var svg=this._svg;return svg.addEventListener("mousedown",onMouseDown.bind(this),!1),svg.addEventListener("mouseup",onMouseUp.bind(this)),svg.addEventListener("mousemove",onMouseMove.bind(this)),window.addEventListener("wheel",onMouseWheel.bind(this)),document.addEventListener("keydown",onKeyDown.bind(this),!1),{}}function onMouseDown(event){var _this=this;console.debug("Render - mouseDown - inIframe: ".concat(function inIframe(){try{return window.self!==window.top}catch(e){return!0}}())),normalizeEvent(event),this.lastSelected=null;var target=event.target,mouse=event;if("container"===target.type){this.dragging=target;var _p$divide=_p_divide(mouse,this.zoom),x=_p$divide.x,y=_p$divide.y;return this._aux.mouseDown={x,y,offset:Object.assign({},this.offset)},this.lastSelected=null,this.throttleUpdate(),null}if(target.classList.value.includes("leader-line")&&(target=getParentSvg(target)),"wire"===target.type)return console.debug("Wire selected:",target.wrapper,"Triggered by: ",target),this.lastSelected=target.wrapper,this.throttleUpdate(),null;if("port"===target.type){this.startAttach(target);var wire=this._aux.wire,SVGbox=this._svg.getBoundingClientRect(),vMouse=_p_subtract(mouse,[SVGbox.left,SVGbox.top]);return wire.addControlPoints(vMouse),this.throttleUpdate(),!0}var captureList=["INPUT","SELECT","TEXTAREA","BUTTON"],parentSvg=getParentSvg(target);if(function shouldCapture(tagName){return!captureList.includes(tagName)}(target.tagName)&&parentSvg&&"node"==parentSvg.type){if(this.disableDragging)return!0;var node=parentSvg;console.debug("Node selected:",node,"Triggered by: ",target);var wrapper=node.wrapper;this.lastSelected=wrapper,this.dragging=node;var _SVGbox=wrapper._svg.getBoundingClientRect(),_mouse=_p_divide(event,this.zoom),offset=_p_subtract(_mouse,[_SVGbox.left,_SVGbox.top]);this._aux.mouseDown={wrapper:_p_add(wrapper,1),barePos:_p_add(event,1),mouse:_mouse,x:offset.x-wrapper.x,y:offset.y-wrapper.y},this._svg.appendChild(this.dragging),wrapper.wires.forEach((function(wire){return wire._el&&_this._svg.appendChild(wire._el)})),this.throttleUpdate()}}function onMouseUp(event){var target=event.target;this.dragging=null,this.isState("attaching")&&("port"===target.type?this.endAttach(target):(this.setState(null),this._aux.wire=null),this.throttleUpdate())}function onMouseMove(event){normalizeEvent(event);var dragging=this.dragging,zoom=this.zoom,mouse=event;if(this.isState("attaching")){var wire=this._aux.wire,SVGbox=this._svg.getBoundingClientRect();if(this.internalRender){var padding=wire._inverted?4:-4,vMouse=_p_add(_p_subtract(mouse,[SVGbox.left,SVGbox.top]),padding);wire.setTarget(vMouse),this.throttleUpdate()}else{var _vMouse=_p_subtract(mouse,[SVGbox.left,SVGbox.top]);wire._el&&wire._el.leaderLine&&wire.setTarget(_vMouse),this.throttleUpdate()}return!0}if(dragging&&"container"==dragging.type){var firstState=this._aux.mouseDown;return this.offset=_p_add(firstState.offset,_p_subtract(_p_divide(event,zoom),firstState)),console.debug("Updating offset",this.offset),this.throttleUpdate(),!0}if(dragging&&dragging.wrapper instanceof Node){var wrapper=dragging.wrapper,_firstState=this._aux.mouseDown,dtMouse=(_p_divide(event,this.zoom),_p_subtract(event,_firstState.barePos)),_p$add=_p_add(_firstState.wrapper,_p_divide(dtMouse,zoom)),x=_p$add.x,y=_p$add.y;return wrapper.x=x,wrapper.y=y,this.throttleUpdate(),!0}}function onMouseWheel(event){if(this.disableZoom&&this.dragging)return!1;null===this._aux.lastZoomTime&&(this._aux.lastZoomTime=Date.now());var zoomDt=.05*Math.sign(event.deltaY);return this.setZoom(_p_clamp(.3,this.zoom-zoomDt,3)),console.info("MouseWheel - zoomDt",zoomDt),console.info("MouseWheel - zoom",this.zoom),this.forceUpdate(),this._aux.lastZoomTime=Date.now(),!1}function onKeyDown(event){46!==event.keyCode&&"Delete"!==event.code||(console.debug("Keydown - deleting",this.lastSelected),this.lastSelected instanceof Node&&(this.config.wrapper.removeNode(this.lastSelected,!0),this.forceUpdate()),this.lastSelected instanceof BaseWire&&(this.removeWire(this.lastSelected),this.forceUpdate()))}function Render_toConsumableArray(arr){return function Render_arrayWithoutHoles(arr){if(Array.isArray(arr))return Render_arrayLikeToArray(arr)}(arr)||function Render_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function Render_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Render_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Render_arrayLikeToArray(o,minLen)}(arr)||function Render_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Render_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Render_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Render_defaultConfig={width:800,height:600},Render=function(){function Render(config){return function Render_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Render),this._svg=void 0,this.zoom=1,this.offset={x:0,y:0},this.disableZoom=!1,this.disableDragging=!1,this.internalRender=!0,this.gridSize=20,this.gridColor="grey",this.backgroundColor="#CCCCCC75",this.config=void 0,this.lastSelected=void 0,this.dragging=void 0,this._state=void 0,this._wires=void 0,this._aux=void 0,this.react=void 0,this.throttleUpdate=throttle_default()(this.forceUpdate,1),this.config=Object.assign({},Render_defaultConfig,config),this._aux={},this._state=null,this._wires=[],this.lastSelected=null,this.dragging=null,this}return function Render_createClass(Constructor,protoProps,staticProps){return protoProps&&Render_defineProperties(Constructor.prototype,protoProps),staticProps&&Render_defineProperties(Constructor,staticProps),Constructor}(Render,[{key:"getConnections",value:function getConnections(){var connections=Render_toConsumableArray(this._wires),wire=this._aux.wire;return wire&&connections.push(wire),connections}},{key:"registerEvents",value:function registerEvents(){eventHandlers_registerEvents.call(this)}},{key:"loadContainer",value:function loadContainer(svg){var _this$config=this.config,width=_this$config.width,height=_this$config.height;this._svg=svg,this._svg.type="container",this.matchViewBox(),this.setCanvasSize({width,height}),this.registerEvents()}},{key:"matchViewBox",value:function matchViewBox(){var _this$_svg$getBoundin=this._svg.getBoundingClientRect(),width=_this$_svg$getBoundin.width,height=_this$_svg$getBoundin.height;this._svg.setAttribute("viewBox","0, 0, ".concat(width," ").concat(height))}},{key:"setCanvasSize",value:function setCanvasSize(_ref){var width=_ref.width,height=_ref.height;this._svg.style.width=width,this._svg.style.height=height,this._svg.setAttribute("width",width),this._svg.setAttribute("height",height),this._svg.setAttribute("viewBox","0 0 ".concat(width," ").concat(height))}},{key:"addElement",value:function addElement(el){this._svg.appendChild(el)}},{key:"removeElement",value:function removeElement(el){this._svg.contains(el)&&this._svg.removeChild(el)}},{key:"startDrag",value:function startDrag(port){this.setState("dragging")}},{key:"startAttach",value:function startAttach(port){var controlPoints=[port.wrapper],wire=new Wire({controlPoints,render:this});wire._inverted="in"===port.wrapper.direction,this.setState("attaching"),this._aux.wire=wire,this.internalRender}},{key:"endAttach",value:function endAttach(port){if(this.isState("attaching")){this.setState(null);var wire=this._aux.wire;wire.setTarget(port.wrapper),!this.addWire(wire)&&this.internalRender&&this.removeElement(this._aux.wire._el),this._aux.wire=null}}},{key:"addWire",value:function addWire(wire){return!!wire.seal()&&(wire.render(this.offset,this.zoom),this._wires=[].concat(Render_toConsumableArray(this._wires),[wire]),this.forceUpdate(),!0)}},{key:"removeWire",value:function removeWire(wire){var index=this._wires.indexOf(wire);if(-1==index)return null;var removed=this._wires.splice(index,1)[0];return removed.delete(),removed}},{key:"getGridStyle",value:function getGridStyle(){var offset=this.offset,zoom=this.zoom,gridSize=this.gridSize,gridColor=this.gridColor,backgroundColor=this.backgroundColor,zOffset=_p_multiply(offset,zoom),zGridSize=gridSize*zoom,lineWidth="".concat(parseInt(_p_clamp(1,1*zoom,10).toString()),"px");return{backgroundColor,backgroundPositionX:"".concat(zOffset.x,"px"),backgroundPositionY:"".concat(zOffset.y,"px"),backgroundSize:"".concat(zGridSize,"px ").concat(zGridSize,"px"),backgroundImage:"linear-gradient(to right, ".concat(gridColor," ").concat(lineWidth,", transparent ").concat(lineWidth,"), linear-gradient(to bottom, ").concat(gridColor," ").concat(lineWidth,", transparent ").concat(lineWidth,")")}}},{key:"sealOrDiscard",value:function sealOrDiscard(){for(var _len=arguments.length,controlPoints=new Array(_len),_key=0;_key<_len;_key++)controlPoints[_key]=arguments[_key];var wire=new Wire({controlPoints,render:this});return this.addWire(wire)?wire:(this.forceUpdate(),null)}},{key:"setState",value:function setState(state){return this._state=state}},{key:"isState",value:function isState(state){return this._state===state}},{key:"getCanvasSize",value:function getCanvasSize(){var _this$config2=this.config,width=_this$config2.width,height=_this$config2.height;return _p_multiply([width,height],1)}},{key:"getCenterPoint",value:function getCenterPoint(){var vOffset=_p_multiply(this.offset,this.zoom),vCanvasSize=_p_multiply(this.getCanvasSize(),1),value=_p_subtract(_p_divide(vCanvasSize,2),vOffset);return _p_divide(value,this.zoom)}},{key:"setCenterPoint",value:function setCenterPoint(point){var vPoint=_p_multiply(point,-1*this.zoom),vCanvasSize=_p_multiply(this.getCanvasSize(),1);this.offset=_p_add(_p_divide(vCanvasSize,2),vPoint),this.offset=_p_divide(this.offset,this.zoom),this.forceUpdate()}},{key:"forceUpdate",value:function forceUpdate(){this.react&&this.react.forceUpdate()}},{key:"setZoom",value:function setZoom(value){var cameraTarget=this.getCenterPoint();this.zoom=value,this.setCenterPoint(cameraTarget),this.forceUpdate()}},{key:"setOffset",value:function setOffset(point){this.offset=point,this.forceUpdate()}},{key:"selectedWire",get:function get(){return this.lastSelected instanceof BaseWire?this.lastSelected:null}}]),Render}(),standard=__webpack_require__(50919);__webpack_require__(72443);function _awaitAsyncGenerator(value){return new _AwaitValue(value)}function _wrapAsyncGenerator(fn){return function(){return new _AsyncGenerator(fn.apply(this,arguments))}}function _AsyncGenerator(gen){var front,back;function resume(key,arg){try{var result=gen[key](arg),value=result.value,wrappedAwait=value instanceof _AwaitValue;Promise.resolve(wrappedAwait?value.wrapped:value).then((function(arg){wrappedAwait?resume("return"===key?"return":"next",arg):settle(result.done?"return":"normal",arg)}),(function(err){resume("throw",err)}))}catch(err){settle("throw",err)}}function settle(type,value){switch(type){case"return":front.resolve({value,done:!0});break;case"throw":front.reject(value);break;default:front.resolve({value,done:!1})}(front=front.next)?resume(front.key,front.arg):back=null}this._invoke=function send(key,arg){return new Promise((function(resolve,reject){var request={key,arg,resolve,reject,next:null};back?back=back.next=request:(front=back=request,resume(key,arg))}))},"function"!=typeof gen.return&&(this.return=void 0)}function _AwaitValue(value){this.wrapped=value}function _behaviorRunner(){return(_behaviorRunner=_wrapAsyncGenerator(regeneratorRuntime.mark((function _callee(instance,context){var node,internalContext,getNode,step,refNode,nodeBehavior,flowPort,nextNodeId;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(node=find_default()(instance._objects,{_refNode:"start"}),internalContext=Object.assign({},context),node){_context.next=4;break}throw new Error("Start node not found");case 4:console.debug("Start node found:",node),getNode=function getNode(){return instance.getNode.apply(instance,arguments)},step=0;case 7:return refNode=instance.getNodeRef(node._refNode),nodeBehavior=refNode.behavior.call(node,getNode,internalContext),_context.next=11,_awaitAsyncGenerator(Promise.resolve(nodeBehavior));case 11:return flowPort=_context.sent,nextNodeId=get_default()(node._ports,["flow_out",flowPort,"connections",0,"nodeId"],null),node=getNode(nextNodeId),console.debug("Step",++step,refNode),console.debug("Next Step",flowPort,node),_context.next=18,{node,context};case 18:if(node){_context.next=7;break}case 19:return _context.abrupt("return",{context});case 20:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}"function"==typeof Symbol&&Symbol.asyncIterator&&(_AsyncGenerator.prototype[Symbol.asyncIterator]=function(){return this}),_AsyncGenerator.prototype.next=function(arg){return this._invoke("next",arg)},_AsyncGenerator.prototype.throw=function(arg){return this._invoke("throw",arg)},_AsyncGenerator.prototype.return=function(arg){return this._invoke("return",arg)};const src_behaviorRunner=function behaviorRunner(_x,_x2){return _behaviorRunner.apply(this,arguments)};__webpack_require__(21249);function jsonLoader_slicedToArray(arr,i){return function jsonLoader_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function jsonLoader_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||jsonLoader_unsupportedIterableToArray(arr,i)||function jsonLoader_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jsonLoader_toConsumableArray(arr){return function jsonLoader_arrayWithoutHoles(arr){if(Array.isArray(arr))return jsonLoader_arrayLikeToArray(arr)}(arr)||function jsonLoader_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||jsonLoader_unsupportedIterableToArray(arr)||function jsonLoader_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jsonLoader_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return jsonLoader_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jsonLoader_arrayLikeToArray(o,minLen):void 0}}function jsonLoader_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function Sticky_slicedToArray(arr,i){return function Sticky_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Sticky_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||Sticky_unsupportedIterableToArray(arr,i)||function Sticky_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sticky_toConsumableArray(arr){return function Sticky_arrayWithoutHoles(arr){if(Array.isArray(arr))return Sticky_arrayLikeToArray(arr)}(arr)||function Sticky_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||Sticky_unsupportedIterableToArray(arr)||function Sticky_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=Sticky_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function Sticky_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return Sticky_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sticky_arrayLikeToArray(o,minLen):void 0}}function Sticky_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Sticky_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Sticky_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Sticky=function(){function Sticky(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:800,height:600},width=_ref.width,height=_ref.height;return Sticky_classCallCheck(this,Sticky),this._uid=0,this.nodeRefs={},this._objects=[],this._wires=[],this.render=new Render({width,height,wrapper:this}),this.clearCanvas(),this}var _run;return function Sticky_createClass(Constructor,protoProps,staticProps){return protoProps&&Sticky_defineProperties(Constructor.prototype,protoProps),staticProps&&Sticky_defineProperties(Constructor,staticProps),Constructor}(Sticky,[{key:"addNodes",value:function addNodes(nodes){var _step,_iterator=_createForOfIteratorHelper(nodes);try{for(_iterator.s();!(_step=_iterator.n()).done;){var node=_step.value;null==node._id&&(node._id=this._uid++),this._objects.push(node)}}catch(err){_iterator.e(err)}finally{_iterator.f()}this.render.react&&this.render.react.forceUpdate()}},{key:"addNode",value:function addNode(obj){this.addNodes([obj])}},{key:"removeNode",value:function removeNode(node,update){var index=this._objects.indexOf(node);if(-1!=index){for(var _i=0,_arr=Sticky_toConsumableArray(node.wires);_i<_arr.length;_i++){var wire=_arr[_i];this.render.removeWire(wire)}if(update){var removed=this._objects.splice(index,1)[0];return this.render.throttleUpdate(),removed}}}},{key:"addStartNode",value:function addStartNode(){var startNode=this.createNode("start");startNode.x=30,startNode.y=30,startNode.behavior=function(){return 0},this.addNode(startNode)}},{key:"clearCanvas",value:function clearCanvas(){var _this=this,start=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._objects.forEach((function(node){return _this.removeNode(node,!1)})),this._objects=[],this._wires=[],start&&this.addStartNode(),this.render.forceUpdate()}},{key:"_formatNodeRef",value:function _formatNodeRef(name,cfg){var behavior="function"!=typeof cfg.behavior?new Function("getNode",cfg.behavior):cfg.behavior;return Object.assign({},cfg,{id:name,behavior})}},{key:"registerNode",value:function registerNode(name,cfg){this.nodeRefs[name]=this._formatNodeRef(name,cfg)}},{key:"getNodeRef",value:function getNodeRef(name){return this.nodeRefs[name]||this._refNodes[name]}},{key:"createNode",value:function createNode(name){var data=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},cfg=this.getNodeRef(name);if(!cfg)throw"Node '".concat(name,"' not registered");return new Node(Object.assign({},cfg,data))}},{key:"getNode",value:function getNode(id){return isNil_default()(id)?null:find_default()(this._objects,{_id:id})}},{key:"loadPorts",value:function loadPorts(nodey,ports,_ref2){var _this2=this,_ref3=Sticky_slicedToArray(_ref2,2),from=_ref3[0],to=_ref3[1];ports.forEach((function(port,index){var _step2,_iterator2=_createForOfIteratorHelper(port);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _this2$render,conn=_step2.value,nodey2=_this2.getNode(conn.node||conn.nodeId),cps=[nodey._ports[from][index],nodey2._ports[to][conn.id]];(_this2$render=_this2.render).sealOrDiscard.apply(_this2$render,cps)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}))}},{key:"toJSON",value:function toJSON(){return function toJSON(nodes,nodeRefs){var fluxgram=nodes.map((function(node){var object={refNode:node._refNode,inputs:node.inputs,id:node._id,x:node.x,y:node.y,ports:{}};for(var type in node._ports)console.debug("to JSON - ",type,node._ports[type]),object.ports[type]=node._ports[type].map((function(port){return jsonLoader_toConsumableArray(port.connections)}));return object})),refNode=Object.entries(nodeRefs).map((function(_ref){var _ref2=jsonLoader_slicedToArray(_ref,2),node=(_ref2[0],_ref2[1]);return Object.assign({},node,{behavior:node.behavior.toString()})})),string=JSON.stringify({refNode,fluxgram},null,2);return copy(string),JSON.parse(string)}(this._objects,this._refNodes)}},{key:"loadJSON",value:function loadJSON(data){this.clearCanvas(!1);var _step3,_iterator3=_createForOfIteratorHelper(data);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var node=_step3.value,refNode=node.refNode,inputs=node.inputs,x=node.x,y=node.y,value=node.value,id=node.id,instance=this.createNode(refNode,{inputs});instance._id=id,instance.x=x,instance.y=y,instance.value=value,this.addNode(instance)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}var _step4,_iterator4=_createForOfIteratorHelper(data);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _node=_step4.value,_instance=this.getNode(_node.id);this.loadPorts(_instance,_node.ports.out,["out","in"]),this.loadPorts(_instance,_node.ports.flow_out,["flow_out","flow_in"])}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}}},{key:"reload",value:function reload(){var flow=this.toJSON().fluxgram;this.loadJSON(flow)}},{key:"run",value:(_run=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(context){var runner,result;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return runner=src_behaviorRunner(this,context),_context.next=3,runner.next();case 3:result=_context.sent;case 4:if(result.done){_context.next=10;break}return _context.next=7,runner.next();case 7:result=_context.sent,_context.next=4;break;case 10:return _context.abrupt("return",result.value);case 11:case"end":return _context.stop()}}),_callee,this)}))),function run(_x){return _run.apply(this,arguments)})},{key:"__compile",value:function __compile(){}},{key:"nodes",get:function get(){return this._objects}}],[{key:"registerNode",value:function registerNode(name,cfg){this.prototype._refNodes[name]=this._formatNodeRef(name,cfg)}},{key:"createNode",value:function createNode(name){var data=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},cfg=this.prototype._refNodes[name];if(!cfg)throw"Node not registered";return new Node(Object.assign({},cfg,data))}}]),Sticky}();Sticky.prototype._refNodes=standard.Z||{};__webpack_require__(43371),__webpack_require__(33321);var styled_components_browser_esm=__webpack_require__(85458);function _templateObject2(){var data=_taggedTemplateLiteral(["\n"]);return _templateObject2=function _templateObject2(){return data},data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  html {\n    font-size: 14px;\n  }\n\n  .sticky__canvas {\n    display: inline-block;\n    font-family: 'Work Sans', sans-serif;\n    border: 1px solid black;\n    user-select: none;\n    cursor: default;\n  }\n\n  .svg-content {\n    background-color: #fff9da;\n    background-color: #CCCCCC75;\n    background-image: linear-gradient(to right, grey 1px, transparent 1px), linear-gradient(to bottom, grey 1px, transparent 1px);\n    background-size: 50px 50px;\n  }\n\n  .sticky-node-html {\n    min-width: 60px;\n    overflow: visible;\n\n    & > * {\n      width: fit-content;\n      max-width: fit-content;\n      min-width: 60px;\n    }\n\n\n    body,\n    > article {\n      overflow: visible;\n      background-color: red;\n      border: 2px solid black;\n      border-radius: 16px;\n      margin: 0;\n      min-width: 100%;\n      min-height: 100%;\n      box-sizing: border-box;\n    }\n\n    header {\n      padding: 0.2em 0.6em;\n      color: 'white';\n      font-size: 1rem;\n      border-bottom: 2px solid black;\n      text-align: center;\n      background-color: #c1c1c1;\n      border-top-left-radius: 14px;\n      border-top-right-radius: 14px;\n      align-items: center;\n      justify-content: center;\n      display: flex;\n\n      span {\n        margin: 0 auto;\n      }\n    }\n\n    section {\n      margin: 0px 0px 10px;\n      margin: 0;\n    }\n\n    input,\n    select {\n      width: 100%;\n      height: 20px;\n      font-size: 12px;\n      box-sizing: border-box;\n      font-size: 1rem;\n    }\n\n    input {\n      padding: 0.6rem 0.2rem;\n    }\n\n    label {\n      display: inline-block;\n      font-size: 0.9rem;\n      padding-top: 0.4rem;\n      padding-bottom: 0.2rem;\n    }\n  }\n\n  .sticky-node-section {\n    display: flex;\n\n    svg {\n      width: 14px;\n      height: 14px;\n      overflow: visible;\n      margin: auto;\n    }\n\n    aside {\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      min-height: 40px;\n      min-width: 14px;\n      margin: 10px 0;\n\n      circle {\n        transform: translate(7px, 7px);\n      }\n\n      &.left {\n        position: relative;\n        right: 7px;\n      }\n\n      &.right {\n        position: relative;\n        left: 7px;\n      }\n    }\n\n    article {\n      flex: 1;\n      padding: 0.4rem 0.2rem;\n    }\n\n  }\n"]);return _templateObject=function _templateObject(){return data},data}function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var GlobalStyle=(0,styled_components_browser_esm.vJ)(_templateObject());(0,styled_components_browser_esm.vJ)(_templateObject2());function chrome_templateObject(){var data=function chrome_taggedTemplateLiteral(strings,raw){raw||(raw=strings.slice(0));return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  .sticky-node-html .node__header {\n    background-color: ",";\n    text-align: center;\n    margin: 0 auto;\n    font-weight: bold;\n  }\n\n  .shine {\n    background: #333 -webkit-gradient(linear, left top, right top, from(#333), to(#333), color-stop(0.5, #fff)) 0 0 no-repeat;\n    background-size: 150px;\n    /* color: ","; */\n    background-clip: text;\n    animation-name: shine;\n    animation-duration: ",";\n    animation-iteration-count: infinite;\n    text-shadow: 0 0px 0px rgba(255, 255, 255, 0.5);\n  }\n\n  .chrome {\n    background: #333 -webkit-gradient(linear, left top, right top, from(#333), to(#333), color-stop(0.5, #fff)) 0 0 no-repeat;\n    background-image: -webkit-linear-gradient(-40deg, transparent 0%, transparent 40%, #fff 50%, transparent 60%, transparent 100%);\n    background-size: 100px;\n    color: ",";\n    background-clip: text;\n    animation-name: shine;\n    animation-duration: ",";\n    animation-iteration-count: infinite;\n    // animation-iteration-count: infinite;\n    text-shadow: 0 0px 0px rgba(255, 255, 255, 0.5);\n\n    animation: shine 10s infinite;\n  }\n\n  @keyframes shine {\n    0% {\n      background-position: top right;\n      background-position: -100px;\n    }\n    60% {\n      /* background-position: 100px; */\n      /* background-position: top left; */\n    }\n    70% {\n      /* background-position: 180px; */\n    }\n    80% {\n      /* background-position: 240px; */\n    }\n    100% {\n      background-position: 520px;\n    }\n  }\n\n  .glow {\n    color: #fff;\n    text-align: center;\n    animation: glow 1s ease-in-out infinite alternate;\n  }\n\n  @keyframes glow {\n    from {\n      text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #e60073, 0 0 40px #e60073, 0 0 50px #e60073, 0 0 60px #e60073, 0 0 70px #e60073;\n    }\n\n    to {\n      text-shadow: 0 0 20px #fff, 0 0 30px #ff4da6, 0 0 40px #ff4da6, 0 0 50px #ff4da6, 0 0 60px #ff4da6, 0 0 70px #ff4da6, 0 0 80px #ff4da6;\n    }\n  }\n\n\n  .glowing-box {\n    animation: glowing-box 1s infinite alternate;\n  }\n\n  @-webkit-keyframes glowing-box {\n    from {\n      box-shadow:\n          0 0 50px #fff,\n          -10px 0 80px #f0f,\n          10px 0 80px #0ff;\n    }\n\n    to {\n      box-shadow:\n          10px 0 80px #0ff,\n          -10px 0 80px #f0f,\n          0 0 50px #fff;\n    }\n  }\n"]);return chrome_templateObject=function _templateObject(){return data},data}var ChromeStyle=(0,styled_components_browser_esm.vJ)(chrome_templateObject(),"#333","rgba(255, 255, 255, 0.3)","10s","rgba(255, 255, 255, 0.3)","10s");function Container_typeof(obj){return(Container_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Container_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Container_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Container_setPrototypeOf(o,p){return(Container_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Container_createSuper(Derived){var hasNativeReflectConstruct=function Container_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Container_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Container_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Container_possibleConstructorReturn(this,result)}}function Container_possibleConstructorReturn(self,call){return!call||"object"!==Container_typeof(call)&&"function"!=typeof call?function Container_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Container_getPrototypeOf(o){return(Container_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var StickyContext=react_default().createContext(null),Container=function(_React$Component){!function Container_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Container_setPrototypeOf(subClass,superClass)}(Container,_React$Component);var _super=Container_createSuper(Container);function Container(){var _this;Container_classCallCheck(this,Container);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).canvas=void 0,_this}return function Container_createClass(Constructor,protoProps,staticProps){return protoProps&&Container_defineProperties(Constructor.prototype,protoProps),staticProps&&Container_defineProperties(Constructor,staticProps),Constructor}(Container,[{key:"buildUp",value:function buildUp(ref){if(!ref)return null;if(this.canvas)return null;var _this$props=this.props,width=_this$props.width,height=_this$props.height,gridSize=_this$props.gridSize,gridColor=_this$props.gridColor,backgroundColor=_this$props.backgroundColor,canvas=new Sticky({width,height});canvas.render.loadContainer(ref),canvas.render.react=this,canvas.render.gridColor=gridColor,canvas.render.backgroundColor=backgroundColor,canvas.render.gridSize=gridSize,ref.wrapper=canvas,this.canvas=canvas,"function"==typeof this.props.onLoad&&this.props.onLoad(canvas)}},{key:"render",value:function render(){var _this2=this,canvas=this.canvas,props=this.props;return react_default().createElement(StickyContext.Provider,{value:this.canvas},react_default().createElement("div",{className:"sticky__container"},react_default().createElement(GlobalStyle,null),react_default().createElement(ChromeStyle,null),react_default().createElement("div",{className:"sticky__canvas"},react_default().createElement("svg",{style:null==canvas?void 0:canvas.render.getGridStyle(),className:"svg-content",preserveAspectRatio:"xMidYMid meet",ref:function ref(_ref){return _this2.buildUp(_ref)}},canvas&&react_default().createElement(react_default().Fragment,null,react_default().createElement(components_NodeList,{nodes:canvas.nodes,renderNode:props.renderNode,offset:canvas.render.offset,zoom:canvas.render.zoom}),react_default().createElement(components_Connections,{canvas,connections:canvas.render.getConnections(),offset:canvas.render.offset,zoom:canvas.render.zoom}))))))}}]),Container}(react_default().Component);function PortList_extends(){return(PortList_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}Container.defaultProps={width:800,height:600,backgroundColor:"#CCCCCC75",gridColor:"grey",gridSize:"20",onLoad:null};var PortList=function PortList(_ref){var wrapper=_ref.wrapper,type=_ref.type,direction=_ref.direction,length=_ref.length,zoom=_ref.zoom;return react_default().createElement(react_default().Fragment,null,times_default()(length,(function(index){return react_default().createElement(PortList_Port,{key:index,id:index,node:wrapper,type,direction,zoom})})))};PortList.displayName="PortList";var PortList_Port=function Port(_ref2){var node=_ref2.node,id=_ref2.id,type=_ref2.type,direction=_ref2.direction,zoom=_ref2.zoom,port=node.getPort("".concat("flow"===type?"flow_":"").concat(direction),id),circleProps={r:8*zoom,fill:port.color,stroke:"black",strokeWidth:2.5};return react_default().createElement("svg",{style:{overflow:"visible"}},react_default().createElement("circle",PortList_extends({},circleProps,{ref:function ref(_ref3){return port.setupInstance(_ref3)}})))};PortList_Port.displayName="Port";const components_PortList=PortList;const components_SplitPorts=function SplitPorts(_ref){var children=_ref.children,node=_ref.node,zoom=_ref.zoom,_ref$ports=_ref.ports,data_in=_ref$ports.data_in,data_out=_ref$ports.data_out,flow_in=_ref$ports.flow_in,flow_out=_ref$ports.flow_out;return children({InputPorts:[react_default().createElement(components_PortList,{key:"flow_in",wrapper:node,type:"flow",direction:"in",length:flow_in,zoom}),react_default().createElement(components_PortList,{key:"data_in",wrapper:node,type:"data",direction:"in",length:data_in,zoom})],OutputPorts:[react_default().createElement(components_PortList,{key:"flow_out",wrapper:node,type:"flow",direction:"out",length:flow_out,zoom}),react_default().createElement(components_PortList,{key:"data_out",wrapper:node,type:"data",direction:"out",length:data_out,zoom})]})};var SplitSection=function SplitSection(_ref){var children=_ref.children,wrapper=_ref.wrapper,ports=_ref.ports,zoom=_ref.zoom;return react_default().createElement(components_SplitPorts,{node:wrapper,ports,zoom},(function(_ref2){var InputPorts=_ref2.InputPorts,OutputPorts=_ref2.OutputPorts;return react_default().createElement("section",{className:"sticky-node-section"},react_default().createElement("aside",{className:"left"},InputPorts),react_default().createElement("article",null,children),react_default().createElement("aside",{className:"right"},OutputPorts))}))};SplitSection.displayName="SplitSection",SplitSection.__docgenInfo={description:"",methods:[],displayName:"SplitSection"};const components_SplitSection=SplitSection;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react/components/SplitSection.js"]={name:"SplitSection",docgenInfo:SplitSection.__docgenInfo,path:"src/react/components/SplitSection.js"});var invoke=__webpack_require__(5907),invoke_default=__webpack_require__.n(invoke);function Form_extends(){return(Form_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function Form_slicedToArray(arr,i){return function Form_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Form_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Form_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Form_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Form_arrayLikeToArray(o,minLen)}(arr,i)||function Form_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Form_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Form=function Form(_ref){var gui=_ref.gui,values=_ref.values,onChange=_ref.onChange;return react_default().createElement("form",null,Object.entries(gui).map((function(_ref2){var _ref3=Form_slicedToArray(_ref2,2),id=_ref3[0],input=_ref3[1],label=input.label,type=input.type,options=input.options,createHandler=function createHandler(){var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(v){return v};return function(event){var value=f(event.target.value);null==onChange||onChange({event,id,value})}},props={key:id,label,type,options,value:values[id]},inputTypes={number:function number(props){return react_default().createElement(Input,Form_extends({},props,{onChange:createHandler(Number)}))},text:function text(props){return react_default().createElement(Input,Form_extends({},props,{onChange:createHandler(Number)}))},select:function select(props){return react_default().createElement(Select,Form_extends({},props,{onChange:createHandler()}))}};return invoke_default()(inputTypes,[type],props)})))};Form.displayName="Form";var Input=function Input(_ref4){var label=_ref4.label,type=_ref4.type,value=_ref4.value,onChange=_ref4.onChange;return react_default().createElement("label",null,react_default().createElement("span",null,label),react_default().createElement("input",{type,defaultValue:value,onChange}))};Input.displayName="Input";var Select=function Select(_ref5){var label=_ref5.label,options=_ref5.options,value=_ref5.value,onChange=_ref5.onChange;return react_default().createElement("label",null,label,react_default().createElement("select",{defaultValue:value,onChange},options.map((function(value){return react_default().createElement("option",{key:value,defaultValue:value},value.toString())}))))};Select.displayName="Select";const components_Form=Form;var Node_Node=function Node(props){var title=props.title,bgColor=(props.width,props.bgColor),zoom=props.zoom,gui=props.gui,inputs=props.inputs,ports=props.ports,onChange=props.onChange,wrapper=props.wrapper,className=props.className,sticky=react_default().useContext(StickyContext),headerStyle={};return sticky.render.lastSelected===wrapper&&(headerStyle={backgroundColor:"#808080",color:"aliceblue"}),react_default().createElement("article",{style:{backgroundColor:bgColor},className},react_default().createElement("header",{className:"node__header shine-container chrome",style:headerStyle},react_default().createElement("span",{className:"node__header-title"},title),react_default().createElement("a",{className:"node__header-delete",onClick:function onClick(){return sticky.removeNode(wrapper,!0)}},"X")),react_default().createElement(components_SplitSection,{wrapper,ports,zoom},react_default().createElement(components_Form,{gui,values:inputs,onChange})))};Node_Node.displayName="Node";const components_Node=Node_Node;var lodash=__webpack_require__(96486);function SVGContainer_typeof(obj){return(SVGContainer_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function SVGContainer_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function SVGContainer_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function SVGContainer_setPrototypeOf(o,p){return(SVGContainer_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function SVGContainer_createSuper(Derived){var hasNativeReflectConstruct=function SVGContainer_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=SVGContainer_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=SVGContainer_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return SVGContainer_possibleConstructorReturn(this,result)}}function SVGContainer_possibleConstructorReturn(self,call){return!call||"object"!==SVGContainer_typeof(call)&&"function"!=typeof call?function SVGContainer_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function SVGContainer_getPrototypeOf(o){return(SVGContainer_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var SVGContainer_SVGContainer=function(_React$Component){!function SVGContainer_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&SVGContainer_setPrototypeOf(subClass,superClass)}(SVGContainer,_React$Component);var _super=SVGContainer_createSuper(SVGContainer);function SVGContainer(){return SVGContainer_classCallCheck(this,SVGContainer),_super.apply(this,arguments)}return function SVGContainer_createClass(Constructor,protoProps,staticProps){return protoProps&&SVGContainer_defineProperties(Constructor.prototype,protoProps),staticProps&&SVGContainer_defineProperties(Constructor,staticProps),Constructor}(SVGContainer,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps){var _this=this,hasPositionChanged=function hasPositionChanged(){return _this.props.x!==nextProps.x||_this.props.y!==nextProps.y};return!!this.ref&&(!!function hasSelectedChanged(){return _this.props.selected!==nextProps.selected}()||(hasPositionChanged()&&(this.ref.setAttribute("x",nextProps.x),this.ref.setAttribute("y",nextProps.y),this.onComponentUpdate()),(hasPositionChanged()||function hasOffsetChanged(){return!(!_this.props.offset||!nextProps.offset)&&(_this.props.offset.x!==nextProps.offset.x||_this.props.offset.y!==nextProps.offset.y)}())&&this.onComponentUpdate(),function hasZoomChanged(){return _this.props.zoom!==nextProps.zoom}()&&this.onComponentUpdate(),!1))}},{key:"onComponentUpdate",value:function onComponentUpdate(){var onComponentUpdate=this.props.onComponentUpdate;"function"==typeof onComponentUpdate&&onComponentUpdate(this)}},{key:"setupInstance",value:function setupInstance(ref){var wrapper=this.props.wrapper;return this.ref=ref,ref?(ref.style.overflow="visible",ref.wrapper=wrapper,ref.type="node",wrapper._el=ref,"function"==typeof this.props.ref?this.props.ref(ref):void 0):null}},{key:"render",value:function render(){var _this2=this,_this$props=this.props,children=_this$props.children,x=_this$props.x,y=_this$props.y;return react_default().createElement("svg",{x,y,ref:function ref(_ref){return _this2.setupInstance(_ref)}},children)}}]),SVGContainer}(react_default().Component);SVGContainer_SVGContainer.__docgenInfo={description:"",methods:[{name:"onComponentUpdate",docblock:null,modifiers:[],params:[],returns:null},{name:"setupInstance",docblock:null,modifiers:[],params:[{name:"ref",type:null}],returns:null}],displayName:"SVGContainer"};const components_SVGContainer=SVGContainer_SVGContainer;function NodeContainer_typeof(obj){return(NodeContainer_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function NodeContainer_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function NodeContainer_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function NodeContainer_setPrototypeOf(o,p){return(NodeContainer_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function NodeContainer_createSuper(Derived){var hasNativeReflectConstruct=function NodeContainer_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=NodeContainer_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=NodeContainer_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return NodeContainer_possibleConstructorReturn(this,result)}}function NodeContainer_possibleConstructorReturn(self,call){return!call||"object"!==NodeContainer_typeof(call)&&"function"!=typeof call?function NodeContainer_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function NodeContainer_getPrototypeOf(o){return(NodeContainer_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react/components/SVGContainer.js"]={name:"SVGContainer",docgenInfo:SVGContainer_SVGContainer.__docgenInfo,path:"src/react/components/SVGContainer.js"});var reduceMax=function reduceMax(key){return function(max,obj){var currentValue=(0,lodash.get)(obj,key);return currentValue>max?currentValue:max}},NodeContainer=function(_React$Component){!function NodeContainer_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&NodeContainer_setPrototypeOf(subClass,superClass)}(NodeContainer,_React$Component);var _super=NodeContainer_createSuper(NodeContainer);function NodeContainer(){var _this;NodeContainer_classCallCheck(this,NodeContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).ref=void 0,_this}return function NodeContainer_createClass(Constructor,protoProps,staticProps){return protoProps&&NodeContainer_defineProperties(Constructor.prototype,protoProps),staticProps&&NodeContainer_defineProperties(Constructor,staticProps),Constructor}(NodeContainer,[{key:"componentDidUpdate",value:function componentDidUpdate(){this.updateDimensions()}},{key:"updateDimensions",value:function updateDimensions(){if(!this.ref)return null;var _this$props=this.props,node=_this$props.node,zoom=_this$props.zoom,childList=Array.from(this.ref.childNodes);node.cfg.width=childList.reduce(reduceMax("offsetWidth"),0),node.cfg.height=childList.reduce(reduceMax("offsetHeight"),0),this.ref.style.width=node.cfg.width.toString(),this.ref.style.height=node.cfg.height.toString(),this.ref.style.transform="scale(".concat(zoom,")"),this.ref.setAttribute("width",node.cfg.width.toString()),this.ref.setAttribute("height",node.cfg.height.toString())}},{key:"render",value:function render(){var _this2=this,_this$props2=this.props,node=_this$props2.node,width=_this$props2.width,height=_this$props2.height,zoom=_this$props2.zoom,offset=_this$props2.offset,_p$multiply=_p_multiply(_p_add(node,offset),zoom),x=_p$multiply.x,y=_p$multiply.y,zOffset=_p_multiply(offset,1),style={transform:"scale(".concat(zoom,")"),width:Math.max(node.cfg.width||width,60),height:Math.max(node.cfg.height||height,60)};return react_default().createElement(components_SVGContainer,{wrapper:node,selected:this.context.render.lastSelected===node,x,y,offset:zOffset,zoom,onComponentUpdate:function onComponentUpdate(){return _this2.updateDimensions()}},react_default().createElement("foreignObject",{ref:function ref(_ref){return _this2.ref=_ref},className:"sticky-node-html",style,width,height},this.props.children))}}]),NodeContainer}(react_default().Component);NodeContainer.contextType=StickyContext;const components_NodeContainer=NodeContainer;function NodeList_extends(){return(NodeList_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var NodeList=function NodeList(_ref){var renderNode=_ref.renderNode,props=_objectWithoutProperties(_ref,["renderNode"]),nodes=props.nodes,offset=props.offset,zoom=props.zoom;console.debug("NodeList - customNode: ".concat(null!=renderNode));var NodeComponent=renderNode||components_Node;return react_default().createElement(react_default().Fragment,null,nodes.map((function(node){return react_default().createElement(components_NodeContainer,{key:node._id,node,offset,zoom},react_default().createElement(NodeComponent,NodeList_extends({},deriveProps(node),{zoom})))})))};NodeList.displayName="NodeList",NodeList.defaultProps={zoom:1,offset:{x:0,y:0}};var noPortsConfig=Object.freeze({flow_in:0,flow_out:0,data_in:0,data_out:0}),deriveProps=function deriveProps(node){return{wrapper:node,gui:node.gui,inputs:node.inputs,onChange:node.onChange,title:node.cfg.title,width:node.cfg.width,bgColor:node.cfg.fill,ports:node.cfg.ports||noPortsConfig}};const components_NodeList=NodeList;function NodeGraph_typeof(obj){return(NodeGraph_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function NodeGraph_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function NodeGraph_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function NodeGraph_setPrototypeOf(o,p){return(NodeGraph_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function NodeGraph_createSuper(Derived){var hasNativeReflectConstruct=function NodeGraph_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=NodeGraph_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=NodeGraph_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return NodeGraph_possibleConstructorReturn(this,result)}}function NodeGraph_possibleConstructorReturn(self,call){return!call||"object"!==NodeGraph_typeof(call)&&"function"!=typeof call?function NodeGraph_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function NodeGraph_getPrototypeOf(o){return(NodeGraph_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var NodeGraph=function(_React$Component){!function NodeGraph_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&NodeGraph_setPrototypeOf(subClass,superClass)}(NodeGraph,_React$Component);var _super=NodeGraph_createSuper(NodeGraph);function NodeGraph(){return NodeGraph_classCallCheck(this,NodeGraph),_super.apply(this,arguments)}return function NodeGraph_createClass(Constructor,protoProps,staticProps){return protoProps&&NodeGraph_defineProperties(Constructor.prototype,protoProps),staticProps&&NodeGraph_defineProperties(Constructor,staticProps),Constructor}(NodeGraph,[{key:"render",value:function render(){var nodes=this.props.nodes||this.props.getNodes(),offset=this.props.offset||this.props.getOffset(),zoom=this.props.zoom||this.props.getZoom();return console.debug("NodeGraph"),react_default().createElement(components_NodeList,{nodes,offset,zoom})}}]),NodeGraph}(react_default().Component);NodeGraph.__docgenInfo={description:"",methods:[],displayName:"NodeGraph"};"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react/components/NodeGraph.js"]={name:"NodeGraph",docgenInfo:NodeGraph.__docgenInfo,path:"src/react/components/NodeGraph.js"});var es2015=__webpack_require__(27878),leader_line_min=__webpack_require__(73988);function Line_typeof(obj){return(Line_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Line_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Line_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Line_setPrototypeOf(o,p){return(Line_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Line_createSuper(Derived){var hasNativeReflectConstruct=function Line_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Line_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Line_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Line_possibleConstructorReturn(this,result)}}function Line_possibleConstructorReturn(self,call){return!call||"object"!==Line_typeof(call)&&"function"!=typeof call?function Line_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Line_getPrototypeOf(o){return(Line_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function shimPointAnchor(point,padding){return point instanceof Element?padding?leader_line_min.Z.pointAnchor(point,padding):point:leader_line_min.Z.pointAnchor(document.body,point)}var Line=function(_React$Component){!function Line_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Line_setPrototypeOf(subClass,superClass)}(Line,_React$Component);var _super=Line_createSuper(Line);function Line(){return Line_classCallCheck(this,Line),_super.apply(this,arguments)}return function Line_createClass(Constructor,protoProps,staticProps){return protoProps&&Line_defineProperties(Constructor.prototype,protoProps),staticProps&&Line_defineProperties(Constructor,staticProps),Constructor}(Line,[{key:"componentWillUnmount",value:function componentWillUnmount(){this.line&&(this.line.remove(),this.line=null,this.svg=null)}},{key:"setupInstance",value:function setupInstance(ref){ref?(this.svg=ref,this.shouldInitLine()):this.componentWillUnmount()}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps){if(this.shouldInitLine(nextProps),this.line){this.props.start!=nextProps.start&&(this.line.start=shimPointAnchor(nextProps.start)),this.props.end!=nextProps.end&&(this.line.end=shimPointAnchor(nextProps.end));var options=get_default()(nextProps,"options",{});options.size=nextProps.size||4,this.line.setOptions(options),this.line.position(),nextProps.float&&this.svg.parentNode.appendChild(this.svg)}return!1}},{key:"initLine",value:function initLine(_ref){var start=_ref.start,end=_ref.end,options=_ref.options,startPoint=shimPointAnchor(start),endPoint=shimPointAnchor(end);this.line=new leader_line_min.Z(Object.assign({path:"fluid",dash:!0},options,{start:startPoint,end:endPoint,disableViewBox:!0,svg:this.svg}));var svg=this.line.getProps().svg;svg.leaderLine=this.line,svg.removeAttribute("viewBox"),"function"==typeof this.props.onLoad&&this.props.onLoad(this.line)}},{key:"shouldInitLine",value:function shouldInitLine(nextProps){if(this.line)return!1;var start=get_default()(nextProps,"start",this.props.start),end=get_default()(nextProps,"end",this.props.end),options=get_default()(nextProps,"options",this.props.options);return this.svg&&start&&end&&this.initLine({start,end,options}),!0}},{key:"render",value:function render(){var _this=this;return react_default().createElement("svg",{ref:function ref(_ref2){return _this.setupInstance(_ref2)}})}}]),Line}(react_default().Component);Line.defaultProps={float:!1},Line.defaultProps={options:{path:"fluid",dash:!0,startSocket:"right",endSocket:"left",disableViewBox:!0,size:4}},Line.__docgenInfo={description:"",methods:[{name:"setupInstance",docblock:null,modifiers:[],params:[{name:"ref",type:null}],returns:null},{name:"initLine",docblock:null,modifiers:[],params:[{name:"{ start, end, options }",type:null}],returns:null},{name:"shouldInitLine",docblock:null,modifiers:[],params:[{name:"nextProps",type:null}],returns:null}],displayName:"Line",props:{float:{defaultValue:{value:"false",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react/components/Line.js"]={name:"Line",docgenInfo:Line.__docgenInfo,path:"src/react/components/Line.js"});__webpack_require__(69600);function components_Wire_typeof(obj){return(components_Wire_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Wire_extends(){return(Wire_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function Wire_slicedToArray(arr,i){return function Wire_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Wire_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Wire_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Wire_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wire_arrayLikeToArray(o,minLen)}(arr,i)||function Wire_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wire_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function components_Wire_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Wire_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function components_Wire_setPrototypeOf(o,p){return(components_Wire_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function components_Wire_createSuper(Derived){var hasNativeReflectConstruct=function components_Wire_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=components_Wire_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=components_Wire_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return components_Wire_possibleConstructorReturn(this,result)}}function components_Wire_possibleConstructorReturn(self,call){return!call||"object"!==components_Wire_typeof(call)&&"function"!=typeof call?function components_Wire_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function components_Wire_getPrototypeOf(o){return(components_Wire_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Wire_Wire=function(_React$Component){!function components_Wire_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&components_Wire_setPrototypeOf(subClass,superClass)}(Wire,_React$Component);var _super=components_Wire_createSuper(Wire);function Wire(){return components_Wire_classCallCheck(this,Wire),_super.apply(this,arguments)}return function Wire_createClass(Constructor,protoProps,staticProps){return protoProps&&Wire_defineProperties(Constructor.prototype,protoProps),staticProps&&Wire_defineProperties(Constructor,staticProps),Constructor}(Wire,[{key:"setupInstance",value:function setupInstance(ref){ref&&this.props.wrapper.setupInstance(ref)}},{key:"render",value:function render(){var _this=this,_this$props=this.props,wrapper=_this$props.wrapper,offset=_this$props.offset,zoom=_this$props.zoom,_wrapper$getControlPo2=Wire_slicedToArray(wrapper.getControlPoints(),2),p1=_wrapper$getControlPo2[0],p2=_wrapper$getControlPo2[1],sourcePoint=p1 instanceof Port?p1.getPoint(offset,zoom):p1,targetPoint=p2 instanceof Port?p2.getPoint(offset,zoom):p2,direction=wrapper._inverted?-1:1,jointOffset=dt2p(sourcePoint.x,sourcePoint.y,targetPoint.x,targetPoint.y)/2,d=describeJoint(sourcePoint.x,sourcePoint.y,targetPoint.x,targetPoint.y,jointOffset*direction),setupRef=function setupRef(ref){ref&&(ref.wrapper=wrapper,ref.type="wire")};return react_default().createElement("g",{ref:function ref(_ref){return _this.setupInstance(_ref)}},styles.map((function(style){return react_default().createElement("path",Wire_extends({key:style.stroke,d,type:"wire"},style,{ref:setupRef}))})))}}]),Wire}(react_default().Component),describeJoint=function describeJoint(x1,y1,x2,y2,offset){return["M",x1,y1,"C",x1+offset,y1,x2-offset,y2,x2,y2].join(" ")},dt2p=function dt2p(x1,y1,x2,y2){return Math.sqrt(Math.pow(x2-x1,2)+Math.pow(y2-y1,2))},styles=[{stroke:"#505050",strokeWidth:6,strokeLinejoin:"round",strokeLinecap:"round",fill:"none",opacity:1},{stroke:"#F3F375",strokeWidth:2,strokeLinecap:"round",strokeDasharray:6,fill:"none",opacity:.8}];function Connections_slicedToArray(arr,i){return function Connections_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Connections_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Connections_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Connections_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Connections_arrayLikeToArray(o,minLen)}(arr,i)||function Connections_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Connections_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Connections_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function Connections_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}const components_Connections=function Connections(_ref){var connections=_ref.connections,canvas=_ref.canvas,props=Connections_objectWithoutProperties(_ref,["connections","canvas"]);return canvas.render.internalRender?connections.map((function(wire){return react_default().createElement(Wire_Wire,{key:(0,es2015.hQ)(wire),wrapper:wire,zoom:canvas.render.zoom,offset:canvas.render.offset})})):connections.map((function(wire){var _wire$getControlPoint2=Connections_slicedToArray(wire.getControlPoints(),2),sourcePort=_wire$getControlPoint2[0],targetPort=_wire$getControlPoint2[1];return sourcePort&&targetPort?react_default().createElement(Line,{key:(0,es2015.hQ)(wire),start:get_default()(sourcePort,"_el",sourcePort),end:get_default()(targetPort,"_el",targetPort),size:4*canvas.render.zoom,onLoad:function onLoad(line){var svg=line.getProps().svg;wire.setupInstance(svg),wire.custom=!canvas.render.internalRender,"function"==typeof props.onLoad&&props.onLoad(line,svg)}}):null}))}},29018:(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(21249),__webpack_require__(19601),__webpack_require__(32564);var react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(67294),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),_storybook_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3012),_src_react_components__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(62101),_flows_alert_flows_json__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(19792);module=__webpack_require__.hmd(module);var getRandom=function getRandom(min,max){return min+Math.random()*(max-min)},onLoad=function onLoad(canvas){var nodes=["SourceString","SourceNumber","Alert"].map((function(nodeName){return canvas.createNode(nodeName,{x:getRandom(100,600),y:getRandom(100,400)})}));canvas.addNodes(nodes)};(0,_storybook_react__WEBPACK_IMPORTED_MODULE_4__.storiesOf)("Custom Node",module).add("default",(function(){return react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_src_react_components__WEBPACK_IMPORTED_MODULE_5__.W2,{onLoad})})).add("SplitSection",(function(){return react__WEBPACK_IMPORTED_MODULE_3___default().createElement(react__WEBPACK_IMPORTED_MODULE_3___default().Fragment,null,react__WEBPACK_IMPORTED_MODULE_3___default().createElement("p",null,react__WEBPACK_IMPORTED_MODULE_3___default().createElement("strong",null,"SplitSection")," splits the section and position the ports on the nodes"),react__WEBPACK_IMPORTED_MODULE_3___default().createElement("p",null,"With SplitSection"),react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_src_react_components__WEBPACK_IMPORTED_MODULE_5__.W2,{renderNode:function Node(_ref){var title=_ref.title,bgColor=_ref.bgColor,wrapper=_ref.wrapper,ports=_ref.ports;return react__WEBPACK_IMPORTED_MODULE_3___default().createElement("article",{style:{backgroundColor:bgColor}},react__WEBPACK_IMPORTED_MODULE_3___default().createElement("header",null," ",title," "),react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_src_react_components__WEBPACK_IMPORTED_MODULE_5__.I7,{wrapper,ports},react__WEBPACK_IMPORTED_MODULE_3___default().createElement("span",{role:"img"},"")))},width:120,height:120,onLoad:function onLoad(canvas){return canvas.clearCanvas()}}),react__WEBPACK_IMPORTED_MODULE_3___default().createElement("p",null,"Without SplitSection"),react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_src_react_components__WEBPACK_IMPORTED_MODULE_5__.W2,{renderNode:function CustomNode(_ref2){var title=_ref2.title,bgColor=_ref2.bgColor;_ref2.wrapper,_ref2.ports;return react__WEBPACK_IMPORTED_MODULE_3___default().createElement("article",{style:{backgroundColor:bgColor}},react__WEBPACK_IMPORTED_MODULE_3___default().createElement("header",null," ",title," "),react__WEBPACK_IMPORTED_MODULE_3___default().createElement("section",null,react__WEBPACK_IMPORTED_MODULE_3___default().createElement("span",{role:"img"},"")))},width:120,height:120,onLoad:function onLoad(canvas){return canvas.clearCanvas()}}))})).add("Square Node",(function(){var style={padding:15,border:"3px solid black"};return react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_src_react_components__WEBPACK_IMPORTED_MODULE_5__.W2,{renderNode:function Node(_ref3){var title=_ref3.title,bgColor=_ref3.bgColor;return react__WEBPACK_IMPORTED_MODULE_3___default().createElement("article",{style:Object.assign({},style,{backgroundColor:bgColor})},react__WEBPACK_IMPORTED_MODULE_3___default().createElement("h3",null,title))},onLoad})})).add("Text Node",(function(){return react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_src_react_components__WEBPACK_IMPORTED_MODULE_5__.W2,{renderNode:function Text(_ref4){var title=_ref4.title,bgColor=_ref4.bgColor;return react__WEBPACK_IMPORTED_MODULE_3___default().createElement("h1",{style:{backgroundColor:bgColor}},title)},onLoad})})),(0,_storybook_react__WEBPACK_IMPORTED_MODULE_4__.storiesOf)("Custom Lines",module).add("leader-line",(function(){return react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_src_react_components__WEBPACK_IMPORTED_MODULE_5__.W2,{onLoad:function onLoad(canvas){canvas.render.internalRender=!1,window.setTimeout((function(){canvas.loadJSON(_flows_alert_flows_json__WEBPACK_IMPORTED_MODULE_6__[0])}),0)}})}))},49736:(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(89554),__webpack_require__(54747),__webpack_require__(47941),__webpack_require__(32564),__webpack_require__(47042),__webpack_require__(41539),__webpack_require__(68309),__webpack_require__(91038),__webpack_require__(78783),__webpack_require__(82526),__webpack_require__(41817),__webpack_require__(32165),__webpack_require__(66992),__webpack_require__(33948),__webpack_require__(79753);var react=__webpack_require__(67294),react_default=__webpack_require__.n(react),client=__webpack_require__(3012),components=__webpack_require__(62101);const dumb_box_flows_namespaceObject=JSON.parse('[[{"refNode":"start","inputs":{},"id":0,"x":16,"y":33,"ports":{"in":[],"out":[],"flow_in":[],"flow_out":[[{"node":1,"id":0}]]}},{"refNode":"PushDown","inputs":{},"id":1,"x":18,"y":121,"ports":{"in":[],"out":[],"flow_in":[[{"node":0,"id":0}]],"flow_out":[[{"node":2,"id":0}]]}},{"refNode":"PushLeft","inputs":{},"id":2,"x":15,"y":197,"ports":{"in":[],"out":[],"flow_in":[[{"node":1,"id":0}]],"flow_out":[[{"node":3,"id":0}]]}},{"refNode":"PushDown","inputs":{},"id":3,"x":96,"y":277,"ports":{"in":[],"out":[],"flow_in":[[{"node":2,"id":0}]],"flow_out":[[{"node":4,"id":0}]]}},{"refNode":"PushDown","inputs":{},"id":4,"x":80,"y":354,"ports":{"in":[],"out":[],"flow_in":[[{"node":3,"id":0}]],"flow_out":[[{"node":5,"id":0}]]}},{"refNode":"PushRight","inputs":{},"id":5,"x":71,"y":419,"ports":{"in":[],"out":[],"flow_in":[[{"node":4,"id":0}]],"flow_out":[[{"node":6,"id":0}]]}},{"refNode":"PushDown","inputs":{},"id":6,"x":143,"y":467,"ports":{"in":[],"out":[],"flow_in":[[{"node":5,"id":0}]],"flow_out":[[{"node":7,"id":0}]]}},{"refNode":"PushRight","inputs":{},"id":7,"x":203,"y":533,"ports":{"in":[],"out":[],"flow_in":[[{"node":6,"id":0}]],"flow_out":[[{"node":8,"id":0}]]}},{"refNode":"PushRight","inputs":{},"id":8,"x":320,"y":446,"ports":{"in":[],"out":[],"flow_in":[[{"node":7,"id":0}]],"flow_out":[[{"node":10,"id":0}]]}},{"refNode":"PushUp","inputs":{},"id":10,"x":308,"y":326,"ports":{"in":[],"out":[],"flow_in":[[{"node":8,"id":0}]],"flow_out":[[{"node":11,"id":0}]]}},{"refNode":"PushUp","inputs":{},"id":11,"x":252,"y":230,"ports":{"in":[],"out":[],"flow_in":[[{"node":10,"id":0}]],"flow_out":[[{"node":12,"id":0}]]}},{"refNode":"PushRight","inputs":{},"id":12,"x":167,"y":133,"ports":{"in":[],"out":[],"flow_in":[[{"node":11,"id":0}]],"flow_out":[[{"node":13,"id":0}]]}},{"refNode":"PushUp","inputs":{},"id":13,"x":119,"y":19,"ports":{"in":[],"out":[],"flow_in":[[{"node":12,"id":0}]],"flow_out":[[{"node":14,"id":0}]]}},{"refNode":"PushUp","inputs":{},"id":14,"x":230,"y":39,"ports":{"in":[],"out":[],"flow_in":[[{"node":13,"id":0}]],"flow_out":[[{"node":15,"id":0}]]}},{"refNode":"PushRight","inputs":{},"id":15,"x":334,"y":62,"ports":{"in":[],"out":[],"flow_in":[[{"node":14,"id":0}]],"flow_out":[[{"node":17,"id":0}]]}},{"refNode":"PushRight","inputs":{},"id":17,"x":440,"y":110,"ports":{"in":[],"out":[],"flow_in":[[{"node":15,"id":0}]],"flow_out":[[{"node":18,"id":0}]]}},{"refNode":"PushDown","inputs":{},"id":18,"x":488,"y":203,"ports":{"in":[],"out":[],"flow_in":[[{"node":17,"id":0}]],"flow_out":[[{"node":19,"id":0}]]}},{"refNode":"PushDown","inputs":{},"id":19,"x":513,"y":288,"ports":{"in":[],"out":[],"flow_in":[[{"node":18,"id":0}]],"flow_out":[[{"node":21,"id":0}]]}},{"refNode":"PushLeft","inputs":{},"id":20,"x":534,"y":459,"ports":{"in":[],"out":[],"flow_in":[[{"node":21,"id":0}]],"flow_out":[[{"node":22,"id":0}]]}},{"refNode":"PushDown","inputs":{},"id":21,"x":527,"y":380,"ports":{"in":[],"out":[],"flow_in":[[{"node":19,"id":0}]],"flow_out":[[{"node":20,"id":0}]]}},{"refNode":"PushDown","inputs":{},"id":22,"x":661,"y":501,"ports":{"in":[],"out":[],"flow_in":[[{"node":20,"id":0}]],"flow_out":[[]]}}]]');__webpack_require__(75497);function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}module=__webpack_require__.hmd(module);var nodeConfig={PushUp:{fill:"#F5E867",ports:{data_in:0,data_out:0,flow_in:1,flow_out:1},title:"Up",behavior:function behavior(_,_ref){return _ref.moves.push("up"),0}},PushDown:{fill:"#FF8D4F",ports:{data_in:0,data_out:0,flow_in:1,flow_out:1},title:"Down",behavior:function behavior(_,_ref2){return _ref2.moves.push("down"),0}},PushLeft:{fill:"#D592F7",ports:{data_in:0,data_out:0,flow_in:1,flow_out:1},title:"Left",behavior:function behavior(_,_ref3){return _ref3.moves.push("left"),0}},PushRight:{fill:"#289E71",ports:{data_in:0,data_out:0,flow_in:1,flow_out:1},title:"Right",behavior:function behavior(_,_ref4){return _ref4.moves.push("right"),0}}};function onLoad(canvas){var game=new DumbBox("canvas",{controls:!1});function getRandomInt(min,max){return min=Math.ceil(min),max=Math.floor(max),Math.floor(Math.random()*(max-min+1))+min}function addNode(direction){var rect=canvas.createNode("Push"+direction);rect.x=150+getRandomInt(-25,25),rect.y=200+getRandomInt(-25,25),canvas.addNode(rect)}Object.keys(nodeConfig).forEach((function(key){return canvas.registerNode(key,nodeConfig[key])})),window.addEventListener("keyup",(function(e){({37:"Left",38:"Up",39:"Right",40:"Down"})[e.keyCode]&&addNode(diretion)})),document.getElementById("run").onclick=function(){canvas.run({moves:[]}).then((function(_ref5){var _step,_iterator=_createForOfIteratorHelper(_ref5.context.moves);try{for(_iterator.s();!(_step=_iterator.n()).done;){var move=_step.value;game.player.pushMove(move)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}))},document.getElementById("reset").onclick=function(){game.reset()},document.getElementById("gameshark").onclick=function(){canvas.loadJSON(dumb_box_flows_namespaceObject[0])},["Left","Up","Right","Down"].forEach((function(dir){document.getElementById(dir.toLowerCase()).onclick=function(){addNode(dir)}})),window.setTimeout((function(){canvas.loadJSON(dumb_box_flows_namespaceObject[0])}),0);game.loadMap(50,{initialPos:[1,0],tiled:["10100000","00110101","01000101","00101000","10001011"]},{0:"red",1:"blue"}),game.start()}(0,client.storiesOf)("Examples",module).add("Dumb Box",(function(){return react_default().createElement("div",null,react_default().createElement("p",null,"Try clicking and deleting some node or connection to break the flow"),react_default().createElement("p",null,"You can reset and run again at any time"),react_default().createElement("div",{id:"container"},react_default().createElement(components.W2,{onLoad}),react_default().createElement("ul",{className:"button-list"},react_default().createElement("li",null,react_default().createElement("button",{id:"run",type:"button"},"Run")),react_default().createElement("li",null,react_default().createElement("button",{id:"reset",type:"button"},"Reset")),react_default().createElement("li",{className:"separator"}),react_default().createElement("li",null,react_default().createElement("button",{id:"up",type:"button"},"Up")),react_default().createElement("li",null,react_default().createElement("button",{id:"down",type:"button"},"Down")),react_default().createElement("li",null,react_default().createElement("button",{id:"left",type:"button"},"Left")),react_default().createElement("li",null,react_default().createElement("button",{id:"right",type:"button"},"Right")),react_default().createElement("li",{className:"separator"}),react_default().createElement("li",null,react_default().createElement("button",{id:"gameshark",type:"button"},"gameshark")))),react_default().createElement("canvas",{id:"canvas",width:"400",height:"450"}))}))},96868:(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(21249),__webpack_require__(32564),__webpack_require__(47042),__webpack_require__(41539),__webpack_require__(68309),__webpack_require__(91038),__webpack_require__(78783),__webpack_require__(82526),__webpack_require__(41817),__webpack_require__(32165),__webpack_require__(66992),__webpack_require__(33948),__webpack_require__(79753);var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(67294),react__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_13__),_storybook_react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3012),_src_react_components__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(62101),_flows_alert_flows_json__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(19792);function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}module=__webpack_require__.hmd(module);var getRandom=function getRandom(min,max){return min+Math.random()*(max-min)};(0,_storybook_react__WEBPACK_IMPORTED_MODULE_14__.storiesOf)("Examples",module).add("Alert",(function(){return react__WEBPACK_IMPORTED_MODULE_13___default().createElement("div",{id:"container"},react__WEBPACK_IMPORTED_MODULE_13___default().createElement("div",{id:"test"},react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_src_react_components__WEBPACK_IMPORTED_MODULE_15__.W2,{onLoad:function onLoad(canvas){var initialNodes=["SourceNumber","SourceNumber","Alert","Sum","Operation","Operation","If","SourceString"];function loadExample(id){canvas.loadJSON(_flows_alert_flows_json__WEBPACK_IMPORTED_MODULE_16__[id])}function onLoad(event){loadExample(event.target.dataset.index)}document.getElementById("run").onclick=function(){canvas.run()},document.getElementById("random").onclick=function(){!function randomNodes(){var nodes=initialNodes.map((function(nodeName){var _ref=[getRandom(30,700),getRandom(30,500)],x=_ref[0],y=_ref[1];return canvas.createNode(nodeName,{x,y})}));canvas.clearCanvas(),canvas.addNodes(nodes)}()};var _step,_iterator=_createForOfIteratorHelper(document.getElementsByClassName("load"));try{for(_iterator.s();!(_step=_iterator.n()).done;){_step.value.addEventListener("click",onLoad)}}catch(err){_iterator.e(err)}finally{_iterator.f()}window.setTimeout((function(){loadExample("1")}),0)}})),react__WEBPACK_IMPORTED_MODULE_13___default().createElement("ul",{className:"button-list"},react__WEBPACK_IMPORTED_MODULE_13___default().createElement("li",null,react__WEBPACK_IMPORTED_MODULE_13___default().createElement("button",{id:"run",type:"button"},"run")),react__WEBPACK_IMPORTED_MODULE_13___default().createElement("li",null,react__WEBPACK_IMPORTED_MODULE_13___default().createElement("button",{id:"random",type:"button"},"random")),react__WEBPACK_IMPORTED_MODULE_13___default().createElement("li",{className:"separator"}),react__WEBPACK_IMPORTED_MODULE_13___default().createElement("li",null,react__WEBPACK_IMPORTED_MODULE_13___default().createElement("button",{className:"load",type:"button","data-index":"0"},"load 1")),react__WEBPACK_IMPORTED_MODULE_13___default().createElement("li",null,react__WEBPACK_IMPORTED_MODULE_13___default().createElement("button",{className:"load",type:"button","data-index":"1"},"load 2"))))}))},4385:(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(47042),__webpack_require__(41539),__webpack_require__(68309),__webpack_require__(91038),__webpack_require__(78783),__webpack_require__(82526),__webpack_require__(41817),__webpack_require__(32165),__webpack_require__(66992),__webpack_require__(33948),__webpack_require__(79753);var react=__webpack_require__(67294),react_default=__webpack_require__.n(react),client=__webpack_require__(3012),components=__webpack_require__(62101);const zoom_flows_namespaceObject=JSON.parse('[[{"refNode":"SourceString","inputs":{},"id":1,"x":5,"y":10,"ports":{"in":[],"out":[[]],"flow_in":[],"flow_out":[]}},{"refNode":"SourceString","inputs":{},"id":2,"x":-95,"y":10,"ports":{"in":[],"out":[[]],"flow_in":[],"flow_out":[]}},{"refNode":"SourceString","inputs":{},"id":3,"x":5,"y":-95,"ports":{"in":[],"out":[[]],"flow_in":[],"flow_out":[]}},{"refNode":"SourceString","inputs":{},"id":4,"x":-95,"y":-95,"ports":{"in":[],"out":[[]],"flow_in":[],"flow_out":[]}}]]');function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}module=__webpack_require__.hmd(module),(0,client.storiesOf)("Features",module).add("Zoom In and Out",(function(){return react_default().createElement("div",{id:"container"},react_default().createElement("div",{id:"test"},react_default().createElement(components.W2,{onLoad:function onLoad(canvas){function setZoom(event){var value=event.target.dataset.value;canvas.render.setZoom(value)}canvas.render.disableDragging=!0,canvas.loadJSON(zoom_flows_namespaceObject[0]);var _step,_iterator=_createForOfIteratorHelper(document.getElementsByClassName("zoom"));try{for(_iterator.s();!(_step=_iterator.n()).done;){_step.value.addEventListener("click",setZoom)}}catch(err){_iterator.e(err)}finally{_iterator.f()}function setReset(){canvas.render.setZoom(1),canvas.render.setCenterPoint([0,0])}var _step2,_iterator2=_createForOfIteratorHelper(document.getElementsByClassName("reset"));try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){_step2.value.addEventListener("click",setReset)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}canvas.render.setCenterPoint([0,0])}})),react_default().createElement("div",{className:"button-list"},react_default().createElement("ul",null,react_default().createElement("li",null,react_default().createElement("button",{className:"zoom",type:"button","data-value":"0.5"},"0.5x")),react_default().createElement("li",null,react_default().createElement("button",{className:"zoom",type:"button","data-value":"0.7"},"0.7x")),react_default().createElement("li",null,react_default().createElement("button",{className:"zoom",type:"button","data-value":"1"},"1.0x")),react_default().createElement("li",null,react_default().createElement("button",{className:"zoom",type:"button","data-value":"2"},"2.0x")),react_default().createElement("li",null,react_default().createElement("button",{className:"zoom",type:"button","data-value":"3"},"3.0x")),react_default().createElement("li",null,react_default().createElement("button",{className:"zoom",type:"button","data-value":"4"},"4.0x"))),react_default().createElement("ul",null,react_default().createElement("li",null,react_default().createElement("button",{className:"reset",type:"button","data-value":"4"},"Reset")))))})).add("Center position",(function(){return react_default().createElement("div",{id:"container"},react_default().createElement("div",{id:"test"},react_default().createElement(components.W2,{onLoad:function onLoad(canvas){function setCenter(event){var value=event.target.dataset.value;canvas.render.setCenterPoint(canvas.render._p.parse(value))}canvas.render.disableDragging=!0,canvas.loadJSON(zoom_flows_namespaceObject[0]);var _step3,_iterator3=_createForOfIteratorHelper(document.getElementsByClassName("center"));try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){_step3.value.addEventListener("click",setCenter)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}function setReset(){canvas.render.setZoom(1),canvas.render.setCenterPoint([0,0])}var _step4,_iterator4=_createForOfIteratorHelper(document.getElementsByClassName("reset"));try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){_step4.value.addEventListener("click",setReset)}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}canvas.render.setCenterPoint([0,0])}})),react_default().createElement("div",{className:"button-list"},react_default().createElement("ul",null,react_default().createElement("li",null,react_default().createElement("button",{className:"center",type:"button","data-value":"[0, 0]"},"[0, 0]")),react_default().createElement("li",null,react_default().createElement("button",{className:"center",type:"button","data-value":"[100, -100]"},"[100, -100]")),react_default().createElement("li",null,react_default().createElement("button",{className:"center",type:"button","data-value":"[-100, -100]"},"[-100, -100]")),react_default().createElement("li",null,react_default().createElement("button",{className:"center",type:"button","data-value":"[-100, 100]"},"[-100, 100]")),react_default().createElement("li",null,react_default().createElement("button",{className:"center",type:"button","data-value":"[100, 100]"},"[100, 100]"))),react_default().createElement("ul",null,react_default().createElement("li",null,react_default().createElement("button",{className:"reset",type:"button","data-value":"4"},"Reset")))))}))},20066:module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id=20066,module.exports=webpackEmptyContext},19792:module=>{"use strict";module.exports=JSON.parse('[[{"refNode":"start","inputs":{},"id":0,"x":207,"y":90,"ports":{"in":[],"out":[],"flow_in":[],"flow_out":[[{"node":6,"id":0}]]}},{"refNode":"SourceNumber","inputs":{"number":4},"id":1,"x":75,"y":206,"ports":{"in":[],"out":[[{"node":5,"id":0}]],"flow_in":[],"flow_out":[]}},{"refNode":"SourceNumber","inputs":{"number":2},"id":2,"x":30,"y":343,"ports":{"in":[],"out":[[{"node":4,"id":0},{"node":4,"id":1}]],"flow_in":[],"flow_out":[]}},{"refNode":"Alert","inputs":{},"id":3,"x":563,"y":236,"ports":{"in":[[{"node":5,"id":0}]],"out":[],"flow_in":[[{"node":6,"id":0}]],"flow_out":[[]]}},{"refNode":"Operation","inputs":{"op":"+"},"id":4,"x":159,"y":371,"ports":{"in":[[{"node":2,"id":0}],[{"node":2,"id":0}]],"out":[[{"node":5,"id":1}]],"flow_in":[],"flow_out":[]}},{"refNode":"Operation","inputs":{"op":"=="},"id":5,"x":274,"y":264,"ports":{"in":[[{"node":1,"id":0}],[{"node":4,"id":0}]],"out":[[{"node":3,"id":0},{"node":6,"id":0}]],"flow_in":[],"flow_out":[]}},{"refNode":"If","inputs":{},"id":6,"x":404,"y":161,"ports":{"in":[[{"node":5,"id":0}]],"out":[],"flow_in":[[{"node":0,"id":0}]],"flow_out":[[{"node":3,"id":0}],[]]}}],[{"refNode":"start","inputs":{},"id":0,"x":328,"y":77,"ports":{"in":[],"out":[],"flow_in":[],"flow_out":[[{"node":3,"id":0}]]}},{"refNode":"SourceNumber","inputs":{"number":2},"id":1,"x":132.42070311501737,"y":417.0035438954401,"ports":{"in":[],"out":[[{"node":6,"id":1}]],"flow_in":[],"flow_out":[]}},{"refNode":"SourceNumber","inputs":{"number":2},"id":2,"x":146.7657232622189,"y":264.94658309523123,"ports":{"in":[],"out":[[{"node":6,"id":0}]],"flow_in":[],"flow_out":[]}},{"refNode":"Alert","inputs":{},"id":3,"x":491.8058720595286,"y":110.76782457857433,"ports":{"in":[[{"node":5,"id":0}]],"out":[],"flow_in":[[{"node":0,"id":0}]],"flow_out":[[]]}},{"refNode":"Operation","inputs":{"op":"+"},"id":5,"x":398.87990154309523,"y":223.98002449406113,"ports":{"in":[[{"node":8,"id":0}],[{"node":6,"id":0}]],"out":[[{"node":3,"id":0}]],"flow_in":[],"flow_out":[]}},{"refNode":"Operation","inputs":{"op":"+"},"id":6,"x":286.5586575710936,"y":310.17411831475874,"ports":{"in":[[{"node":2,"id":0}],[{"node":1,"id":0}]],"out":[[{"node":5,"id":1}]],"flow_in":[],"flow_out":[]}},{"refNode":"SourceString","inputs":{"text":"the result is "},"id":8,"x":189.05671119774888,"y":163.25361968931247,"ports":{"in":[],"out":[[{"node":5,"id":0}]],"flow_in":[],"flow_out":[]}}]]')},98410:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom.stories.js":29018,"./dumb-box.stories.js":49736,"./examples.stories.js":96868,"./features.stories.js":4385};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=98410},36631:()=>{}},0,[[40116,303,534],[94054,303,534],[86261,303,534],[38011,303,534]]]);
//# sourceMappingURL=main.8e5a0171.iframe.bundle.js.map